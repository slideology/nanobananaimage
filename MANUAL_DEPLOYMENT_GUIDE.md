# æ‰‹åŠ¨éƒ¨ç½²åˆ° Cloudflare Pages æŒ‡å—

æœ¬æŒ‡å—å°†è¯¦ç»†ä»‹ç»å¦‚ä½•æ‰‹åŠ¨å°†é¡¹ç›®éƒ¨ç½²åˆ° Cloudflare Pagesï¼Œæ— éœ€ä½¿ç”¨è„šæœ¬æˆ–å‘½ä»¤è¡Œå·¥å…·ã€‚

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¡®ä¿é¡¹ç›®å·²å‡†å¤‡å°±ç»ª
- ç¡®è®¤æ‰€æœ‰åŸŸåé…ç½®å·²æ›´æ–°ä¸º `nanobananaimage.org`
- ç¡®è®¤é¡¹ç›®å¯ä»¥æ­£å¸¸æ„å»º
- ç¡®è®¤æ‰€æœ‰å¿…è¦çš„é…ç½®æ–‡ä»¶å­˜åœ¨

### 2. æ³¨å†Œ Cloudflare è´¦æˆ·
1. è®¿é—® [Cloudflareå®˜ç½‘](https://www.cloudflare.com/)
2. ç‚¹å‡» "Sign Up" æ³¨å†Œè´¦æˆ·
3. éªŒè¯é‚®ç®±å¹¶å®Œæˆè´¦æˆ·è®¾ç½®

## ğŸš€ æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: æ„å»ºé¡¹ç›®

1. **æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦**
   - Mac: æŒ‰ `Cmd + ç©ºæ ¼`ï¼Œè¾“å…¥ "Terminal"
   - Windows: æŒ‰ `Win + R`ï¼Œè¾“å…¥ "cmd"

2. **è¿›å…¥é¡¹ç›®ç›®å½•**
   ```bash
   cd /Users/dahuang/CascadeProjects/å†…å®¹ç«™/nanobananaimage
   ```

3. **è¿›å…¥å‰ç«¯ç›®å½•å¹¶å®‰è£…ä¾èµ–**
   ```bash
   cd frontend
   npm install
   ```

4. **æ„å»ºé¡¹ç›®**
   ```bash
   npm run build
   ```
   
   æ„å»ºå®Œæˆåï¼Œä¼šåœ¨ `frontend/dist` ç›®å½•ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚

### æ­¥éª¤ 2: ç™»å½• Cloudflare Pages

1. è®¿é—® [Cloudflare Pages](https://pages.cloudflare.com/)
2. ä½¿ç”¨ä½ çš„ Cloudflare è´¦æˆ·ç™»å½•
3. ç‚¹å‡» "Create a project" åˆ›å»ºæ–°é¡¹ç›®

### æ­¥éª¤ 3: é€‰æ‹©éƒ¨ç½²æ–¹å¼

1. **é€‰æ‹© "Upload assets" é€‰é¡¹**
   - è¿™æ˜¯æ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶çš„æ–¹å¼
   - é€‚åˆä¸ä½¿ç”¨ Git ä»“åº“çš„æƒ…å†µ

2. **æˆ–è€…é€‰æ‹© "Connect to Git" é€‰é¡¹**
   - å¦‚æœä½ çš„ä»£ç å·²ç»ä¸Šä¼ åˆ° GitHub/GitLab
   - å¯ä»¥å®ç°è‡ªåŠ¨éƒ¨ç½²

### æ­¥éª¤ 4A: æ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶ï¼ˆæ¨èï¼‰

1. **å‡†å¤‡ä¸Šä¼ æ–‡ä»¶**
   - æ‰“å¼€ `frontend/dist` æ–‡ä»¶å¤¹
   - é€‰æ‹©æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
   - åˆ›å»ºä¸€ä¸ª ZIP å‹ç¼©åŒ…

2. **ä¸Šä¼ åˆ° Cloudflare Pages**
   - åœ¨ Cloudflare Pages ç•Œé¢ä¸­
   - æ‹–æ‹½ ZIP æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
   - æˆ–ç‚¹å‡» "Select from computer" é€‰æ‹©æ–‡ä»¶

3. **é…ç½®é¡¹ç›®è®¾ç½®**
   - **é¡¹ç›®åç§°**: `nanobananaimage`
   - **ç”Ÿäº§åˆ†æ”¯**: `main`ï¼ˆå¦‚æœä½¿ç”¨ Gitï¼‰
   - **æ„å»ºå‘½ä»¤**: `npm run build`ï¼ˆå¦‚æœä½¿ç”¨ Gitï¼‰
   - **æ„å»ºè¾“å‡ºç›®å½•**: `dist`ï¼ˆå¦‚æœä½¿ç”¨ Gitï¼‰

### æ­¥éª¤ 4B: è¿æ¥ Git ä»“åº“ï¼ˆå¯é€‰ï¼‰

1. **é€‰æ‹©ä»£ç ä»“åº“**
   - é€‰æ‹© GitHubã€GitLab æˆ– Bitbucket
   - æˆæƒ Cloudflare è®¿é—®ä½ çš„ä»“åº“
   - é€‰æ‹© `nanobananaimage` ä»“åº“

2. **é…ç½®æ„å»ºè®¾ç½®**
   - **æ¡†æ¶é¢„è®¾**: `Vite`
   - **æ„å»ºå‘½ä»¤**: `cd frontend && npm install && npm run build`
   - **æ„å»ºè¾“å‡ºç›®å½•**: `frontend/dist`
   - **æ ¹ç›®å½•**: `/`

### æ­¥éª¤ 5: é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœéœ€è¦ï¼‰

1. åœ¨é¡¹ç›®è®¾ç½®ä¸­æ‰¾åˆ° "Environment variables"
2. æ·»åŠ å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š
   ```
   NODE_VERSION=18
   NPM_VERSION=latest
   ```

### æ­¥éª¤ 6: éƒ¨ç½²é¡¹ç›®

1. **å¼€å§‹éƒ¨ç½²**
   - ç‚¹å‡» "Save and Deploy" æŒ‰é’®
   - ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆé€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿï¼‰

2. **æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€**
   - åœ¨ Cloudflare Pages æ§åˆ¶å°æŸ¥çœ‹éƒ¨ç½²è¿›åº¦
   - éƒ¨ç½²æˆåŠŸåä¼šæ˜¾ç¤ºç»¿è‰²çš„ "Success" çŠ¶æ€

### æ­¥éª¤ 7: é…ç½®è‡ªå®šä¹‰åŸŸå

1. **æ·»åŠ è‡ªå®šä¹‰åŸŸå**
   - åœ¨é¡¹ç›®è®¾ç½®ä¸­æ‰¾åˆ° "Custom domains"
   - ç‚¹å‡» "Set up a custom domain"
   - è¾“å…¥ `nanobananaimage.org`

2. **é…ç½® DNS è®°å½•**
   - åœ¨ä½ çš„åŸŸåæ³¨å†Œå•†å¤„æ·»åŠ  CNAME è®°å½•
   - æˆ–è€…å°†åŸŸåçš„ DNS æœåŠ¡å™¨æŒ‡å‘ Cloudflare

3. **ç­‰å¾… DNS ç”Ÿæ•ˆ**
   - DNS æ›´æ”¹é€šå¸¸éœ€è¦ 24-48 å°æ—¶ç”Ÿæ•ˆ
   - å¯ä»¥ä½¿ç”¨åœ¨çº¿ DNS æ£€æŸ¥å·¥å…·éªŒè¯

## ğŸ”§ éƒ¨ç½²åé…ç½®

### 1. é…ç½®é‡å®šå‘è§„åˆ™

åœ¨ Cloudflare Pages é¡¹ç›®è®¾ç½®ä¸­ï¼š

1. **é¡µé¢è§„åˆ™**
   - æ·»åŠ  `www.nanobananaimage.org/*` â†’ `nanobananaimage.org/$1`
   - è®¾ç½®ä¸º 301 æ°¸ä¹…é‡å®šå‘

2. **SPA è·¯ç”±æ”¯æŒ**
   - ç¡®ä¿ `_redirects` æ–‡ä»¶å·²åŒ…å«åœ¨æ„å»ºè¾“å‡ºä¸­
   - å†…å®¹åº”è¯¥æ˜¯ï¼š`/* /index.html 200`

### 2. é…ç½®å®‰å…¨å¤´

ç¡®ä¿ `_headers` æ–‡ä»¶åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
```
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: camera=(), microphone=(), geolocation=()
```

### 3. é…ç½®ç¼“å­˜

åœ¨ Cloudflare æ§åˆ¶å°ä¸­ï¼š
1. è¿›å…¥ "Caching" è®¾ç½®
2. è®¾ç½®é€‚å½“çš„ç¼“å­˜è§„åˆ™
3. å¯ç”¨ "Always Online" åŠŸèƒ½

## ğŸ“Š éªŒè¯éƒ¨ç½²

### 1. åŠŸèƒ½æµ‹è¯•
- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] æ‰€æœ‰é¡µé¢é“¾æ¥æ­£å¸¸å·¥ä½œ
- [ ] å›¾ç‰‡å’Œèµ„æºæ­£å¸¸åŠ è½½
- [ ] å“åº”å¼è®¾è®¡åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ­£å¸¸

### 2. SEO æ£€æŸ¥
- [ ] robots.txt å¯è®¿é—®
- [ ] sitemap.xml å¯è®¿é—®
- [ ] Meta æ ‡ç­¾æ­£ç¡®æ˜¾ç¤º
- [ ] Open Graph æ•°æ®æ­£ç¡®

### 3. æ€§èƒ½æµ‹è¯•
- ä½¿ç”¨ [PageSpeed Insights](https://pagespeed.web.dev/) æµ‹è¯•
- ä½¿ç”¨ [GTmetrix](https://gtmetrix.com/) æµ‹è¯•
- æ£€æŸ¥ Core Web Vitals æŒ‡æ ‡

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### æ‰‹åŠ¨æ›´æ–°
1. åœ¨æœ¬åœ°é‡æ–°æ„å»ºé¡¹ç›®
2. åœ¨ Cloudflare Pages æ§åˆ¶å°ä¸Šä¼ æ–°çš„æ„å»ºæ–‡ä»¶
3. ç­‰å¾…éƒ¨ç½²å®Œæˆ

### è‡ªåŠ¨æ›´æ–°ï¼ˆå¦‚æœä½¿ç”¨ Gitï¼‰
1. å°†ä»£ç æ¨é€åˆ° Git ä»“åº“
2. Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹æ›´æ”¹å¹¶é‡æ–°éƒ¨ç½²

## â— å¸¸è§é—®é¢˜

### é—®é¢˜ 1: éƒ¨ç½²å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
- ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½å·²æ­£ç¡®å®‰è£…
- æ£€æŸ¥ Node.js ç‰ˆæœ¬å…¼å®¹æ€§

### é—®é¢˜ 2: 404 é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ `_redirects` æ–‡ä»¶å­˜åœ¨
- æ£€æŸ¥è·¯ç”±é…ç½®æ˜¯å¦æ­£ç¡®
- éªŒè¯æ„å»ºè¾“å‡ºç›®å½•è®¾ç½®

### é—®é¢˜ 3: åŸŸåæ— æ³•è®¿é—®
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ DNS è®°å½•æ˜¯å¦æ­£ç¡®
- ç­‰å¾… DNS ä¼ æ’­å®Œæˆ
- ä½¿ç”¨ DNS æ£€æŸ¥å·¥å…·éªŒè¯

### é—®é¢˜ 4: SSL è¯ä¹¦é—®é¢˜
**è§£å†³æ–¹æ¡ˆ**:
- Cloudflare ä¼šè‡ªåŠ¨æä¾› SSL è¯ä¹¦
- ç­‰å¾…è¯ä¹¦ç”Ÿæˆå®Œæˆï¼ˆé€šå¸¸å‡ åˆ†é’Ÿï¼‰
- æ£€æŸ¥ SSL/TLS è®¾ç½®

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹ [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)
2. è®¿é—® [Cloudflare ç¤¾åŒºè®ºå›](https://community.cloudflare.com/)
3. è”ç³» Cloudflare æŠ€æœ¯æ”¯æŒ

---

**æ­å–œï¼** ğŸ‰ ä½ å·²ç»æˆåŠŸå°†ç½‘ç«™éƒ¨ç½²åˆ° Cloudflare Pagesã€‚ç°åœ¨ä½ çš„ç½‘ç«™å¯ä»¥é€šè¿‡ `nanobananaimage.org` è®¿é—®äº†ï¼